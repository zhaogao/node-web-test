<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>首页</title>
</head>
<script src="//cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script>
<body>
	<form  method="post" >
		<div>
			<label for="">姓名</label>
			<input type="text" id="name" name="name">
		</div>
		<div>
			<label for="">年龄</label>
			<input type="text" id="age" name="age">
		</div>
		<div>
			<input type="submit" id="submit" value="提交" >
		</div>
		<p id="result" ></p>
	</form>
	<script>
		$(function(){

			$('#submit').on('click',function(ev){
				ev.preventDefault();
				create_post();
			});

			var create_post = function(){
				// var form = new FormData($('form')[0]);

				$.post('/get_info',{
					name:$('#name').val(),
					age:$('#age').val()
				},function(data){
					console.log('success',JSON.parse(data))
					$('#result').html('姓名：'+data.name+'\n'+'年龄：'+data.age)
				},function(err){
					console.log('err',err)
				})
				return;

				fetch('/get_info',{
					headers: {
						'Accept': 'application/json',
						'Content-Type': 'application/json'
					},
					method:'POST',
					body:JSON.stringify({
						name:$('#name').val(),
						age:$('#age').val()
					})
				}).then(function(res){
					// console.log(res)
					return res.json();
				}).then(function(data){
					console.log(data)
				}).catch(function(err){
					console.log(err)
				})
			};

		})
	</script>
</body>
</html>